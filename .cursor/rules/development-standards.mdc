# Padr√µes de Desenvolvimento e Confirma√ß√£o

## üéØ Confirma√ß√£o de Mudan√ßas de Comportamento

### Antes de implementar qualquer altera√ß√£o:

1. **Identificar se a mudan√ßa afeta comportamento existente**
2. **Documentar o comportamento atual**
3. **Explicar o impacto da mudan√ßa**
4. **Solicitar confirma√ß√£o expl√≠cita**

### Perguntas obrigat√≥rias:

- ‚úÖ "Esta mudan√ßa mant√©m o comportamento atual?"
- ‚úÖ "H√° risco de quebrar funcionalidades existentes?"
- ‚úÖ "A mudan√ßa foi explicitamente solicitada?"
- ‚úÖ "Existe plano de rollback se necess√°rio?"

## üîß Padr√µes de C√≥digo

### Estrutura de Arquivos
- Manter organiza√ß√£o de pastas existente
- N√£o mover arquivos sem consultar
- Preservar imports e exports

### APIs e Endpoints
- Manter URLs existentes
- Preservar estrutura de requests/responses
- Adicionar novos endpoints sem quebrar os antigos

### Banco de Dados
- N√£o alterar schemas sem consultar
- Preservar relacionamentos existentes
- Usar migrations para mudan√ßas

### Integra√ß√µes
- Manter configura√ß√µes de servi√ßos externos
- Preservar webhooks e callbacks
- N√£o alterar tokens ou chaves sem aviso

## üìã Checklist de Implementa√ß√£o

### Antes de come√ßar:
- [ ] Comportamento atual documentado
- [ ] Impacto da mudan√ßa avaliado
- [ ] Usu√°rio consultado sobre mudan√ßas
- [ ] Plano de rollback preparado
- [ ] Testes planejados

### Durante implementa√ß√£o:
- [ ] C√≥digo comentado adequadamente
- [ ] Logs adicionados para debug
- [ ] Tratamento de erros implementado
- [ ] Valida√ß√µes mantidas

### Ap√≥s implementa√ß√£o:
- [ ] Testes executados
- [ ] Comportamento validado
- [ ] Documenta√ß√£o atualizada
- [ ] Usu√°rio notificado

## üö® √Åreas de Aten√ß√£o Especial

### Sistema de Agendamentos
- Calend√°rio e eventos
- Integra√ß√£o Google Calendar
- Estados de loading

### Sistema de WhatsApp
- Conex√£o de agentes
- QR Code e autentica√ß√£o
- Envio/recebimento de mensagens

### Sistema de IA
- Contextualiza√ß√£o
- Mem√≥ria de conversas
- Integra√ß√£o GPT-4

### Autentica√ß√£o e Permiss√µes
- Roles de usu√°rio
- RLS do Supabase
- Fluxo de login

## üí¨ Comunica√ß√£o com Usu√°rio

### Para mudan√ßas de comportamento:
```
‚ö†Ô∏è ATEN√á√ÉO: Esta mudan√ßa pode alterar o comportamento atual.

Comportamento atual: [descrever]
Nova implementa√ß√£o: [descrever]
Impacto: [explicar]

Confirma a implementa√ß√£o? (s/n)
```

### Para corre√ß√µes de bug:
```
üêõ BUG IDENTIFICADO: [descrever problema]
üîß CORRE√á√ÉO: [explicar solu√ß√£o]
‚úÖ COMPORTAMENTO PRESERVADO: [confirmar]

Implementando corre√ß√£o...
```

### Para novas features:
```
‚ú® NOVA FEATURE: [descrever]
üîó INTEGRA√á√ÉO: [explicar como se integra]
‚ö†Ô∏è IMPACTO: [mudan√ßas necess√°rias]

Confirma implementa√ß√£o? (s/n)
```

## üìö Documenta√ß√£o

### Manter documenta√ß√£o atualizada:
- README.md
- Coment√°rios no c√≥digo
- Logs de mudan√ßas
- Guias de uso

### Registrar mudan√ßas:
- Data da mudan√ßa
- Motivo da mudan√ßa
- Impacto em outras features
- Como testar a mudan√ßa
description:
globs:
alwaysApply: false
---
