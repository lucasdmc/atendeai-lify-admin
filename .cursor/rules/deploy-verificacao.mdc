# Deploys devem garantir versão e integridade

Sempre que realizar um deploy (manual ou automático), **valide que tudo foi realmente implantado e está na versão correta**:

- Compare o hash do commit ou tag do repositório local com o da VPS após o deploy.
- Valide que todos os arquivos e dependências foram atualizados (ex: rodar `npm install` e checar `node_modules`).
- Teste endpoints críticos (ex: health check, endpoints REST, geração de QR Code) após o deploy.
- Gere logs de verificação e, se possível, salve um relatório do deploy.
- Nunca considere o deploy concluído sem validação explícita.

**Motivo:** Evitar falsos positivos/negativos nos testes e garantir que o ambiente de produção está 100% sincronizado com o código-fonte e scripts esperados.
description:
globs:
alwaysApply: false
---
